
#!/bin/bash

# Icons
ICON_CHARGING="âš¡"
ICON_BATTERY=""

# Get average battery percentage
PERCENT=$(acpi -b | grep -o '[0-9]\+%' | sed 's/%//' | awk '{sum+=$1} END {if (NR > 0) print int(sum/NR); else print "0"}')

# Determine if charging
if acpi -b | grep -q "Discharging"; then
    ICON=$ICON_BATTERY
else
    ICON=$ICON_CHARGING
fi

# Output for Polybar
echo "${PERCENT}%"
